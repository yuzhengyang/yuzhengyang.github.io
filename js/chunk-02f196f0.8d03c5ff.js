(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f196f0"],{"04d1":function(e,t,n){var o=n("342f"),r=o.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},"1c59":function(e,t,n){"use strict";var o=n("6d61"),r=n("6566");o("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"4e82":function(e,t,n){"use strict";var o=n("23e7"),r=n("e330"),c=n("59ed"),i=n("7b0b"),a=n("07fa"),l=n("083a"),s=n("577e"),d=n("d039"),u=n("addb"),f=n("a640"),h=n("04d1"),b=n("d998"),p=n("2d00"),v=n("512c"),m=[],O=r(m.sort),j=r(m.push),g=d((function(){m.sort(void 0)})),x=d((function(){m.sort(null)})),y=f("sort"),C=!d((function(){if(p)return p<70;if(!(h&&h>3)){if(b)return!0;if(v)return v<603;var e,t,n,o,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)m.push({k:t+o,v:n})}for(m.sort((function(e,t){return t.v-e.v})),o=0;o<m.length;o++)t=m[o].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),w=g||!x||!y||!C,k=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}};o({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&c(e);var t=i(this);if(C)return void 0===e?O(t):O(t,e);var n,o,r=[],s=a(t);for(o=0;o<s;o++)o in t&&j(r,t[o]);u(r,k(e)),n=r.length,o=0;while(o<n)t[o]=r[o++];while(o<s)l(t,o++);return t}})},"4fadd":function(e,t,n){var o=n("d039"),r=n("861d"),c=n("c6b6"),i=n("d86b"),a=Object.isExtensible,l=o((function(){a(1)}));e.exports=l||i?function(e){return!!r(e)&&((!i||"ArrayBuffer"!=c(e))&&(!a||a(e)))}:a},"512c":function(e,t,n){var o=n("342f"),r=o.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},6062:function(e,t,n){n("1c59")},6473:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),r=Object(o["createTextVNode"])("历史版本"),c=Object(o["createElementVNode"])("span",null," ",-1),i={style:{float:"left"}},a={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},l=Object(o["createElementVNode"])("span",null," ",-1),s={style:{"line-height":"60px","text-align":"center","font-size":"30px","font-weight":"bold"}},d={style:{"line-height":"60px","text-align":"center","font-size":"30px","font-weight":"bold"}},u={style:{padding:"45px 10px 100px 10px","font-size":"12px"}},f=["onClick"];function h(e,t,n,h,b,p){var v=this,m=Object(o["resolveComponent"])("el-col"),O=Object(o["resolveComponent"])("el-row"),j=Object(o["resolveComponent"])("el-button"),g=Object(o["resolveComponent"])("el-option"),x=Object(o["resolveComponent"])("el-select"),y=Object(o["resolveComponent"])("el-affix"),C=Object(o["resolveComponent"])("v-md-editor"),w=Object(o["resolveComponent"])("el-alert"),k=Object(o["resolveComponent"])("el-main"),V=Object(o["resolveComponent"])("el-aside"),N=Object(o["resolveComponent"])("el-container");return Object(o["openBlock"])(),Object(o["createBlock"])(N,{style:{height:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{ref:"docContainer",id:"docContainer"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{span:24,style:{"line-height":"60px","text-align":"center","font-size":"30px","font-weight":"bold"}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(v.collected.name),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{span:12,style:{"border-right":"2px dotted #9b9b9b"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{offset:50},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{style:{"background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{span:22,offset:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{type:"warning",size:"small"},{default:Object(o["withCtx"])((function(){return[r]})),_:1}),c,Object(o["createVNode"])(x,{modelValue:b.historyDoc.selectId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.historyDoc.selectId=e}),placeholder:"Select",size:"small",onChange:p.getHistoryDoc},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(b.historyDoc.list,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:e.id,label:e.createTime,value:e.id},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",i,Object(o["toDisplayString"])(e.createTime),1),Object(o["createElementVNode"])("span",a," - "+Object(o["toDisplayString"])(e.realName),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),l]})),_:1})]})),_:1})]})),_:1}),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(v.historyDoc.doc.title),1)]),Object(o["createVNode"])(C,{modelValue:v.historyDoc.doc.content,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.historyDoc.doc.content=e}),mode:"preview",onCopyCodeSuccess:p.handleCopyCodeSuccess},null,8,["modelValue","onCopyCodeSuccess"])]})),_:1}),Object(o["createVNode"])(m,{span:12,style:{"border-left":"2px solid #9b9b9b"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{offset:50},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{style:{"background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{span:22,offset:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(w,{title:"当前版本："+v.doc.updateTime,type:"success",closable:!1},null,8,["title"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(v.doc.title),1)]),Object(o["createVNode"])(C,{modelValue:v.doc.content,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.doc.content=e}),mode:"preview",ref:"editor",onCopyCodeSuccess:p.handleCopyCodeSuccess},null,8,["modelValue","onCopyCodeSuccess"])]})),_:1})]})),_:1})]})),_:1},512),Object(o["createVNode"])(V,{width:"250px",style:{height:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(b.titles,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,class:"anchor-item",style:Object(o["normalizeStyle"])({padding:"4px 0 4px ".concat(10*e.indent,"px")}),onClick:function(t){return p.handleAnchorClick(e)}},[Object(o["createElementVNode"])("a",null,Object(o["toDisplayString"])(e.title),1)],12,f)})),128))])]})),_:1})]})),_:1})}n("4de4"),n("d3b7"),n("a630"),n("3ca3"),n("498a"),n("4e82"),n("6062"),n("ddb0"),n("d81d"),n("2ef0");var b=n("b775"),p=n("3ef4"),v=n("05db"),m={data:function(){return{isLogin:!1,drawer:!1,collected:{},doc:{},titles:[],collectedPermission:{detail:!1,focus:!1,his:!1,create:!1,edit:!1,copy:!1,member:!1},lockUser:{},historyDoc:{list:[],selectId:"",doc:{}}}},components:{},mounted:function(){var e=this.$store.state.user.token;this.isLogin=!(void 0==this.$store.state.user.token||""==this.$store.state.user.token),console.log("token: "+e+" collectedId:"+this.$route.params.collectedId+" docId:"+this.$route.params.docId),this.getCollected(),this.getDoc(),this.getHistoryList(),this.isLogin&&this.getPermission()},methods:{getCollected:function(){var e=this;Object(b["a"])({url:"/collected/get",method:"post",data:{id:this.$route.params.collectedId}}).then((function(t){0==t.code&&(e.collected=t.meta.collected)}))},getDoc:function(){var e=this;Object(b["a"])({url:"/doc/get",method:"post",data:{id:this.$route.params.docId}}).then((function(t){0==t.code&&(e.doc=t.meta.doc,e.doc.content=Object(v["a"])(e.doc.content),document.title=e.doc.title,t.meta.user?(e.lockUser=t.meta.user,console.log("lockUser:"+e.lockUser)):e.lockUser={},e.$nextTick((function(){var t=e.$refs.editor.$el.querySelectorAll(".v-md-editor-preview h1,h2,h3,h4,h5,h6"),n=Array.from(t).filter((function(e){return!!e.innerText.trim()}));if(n.length){var o=Array.from(new Set(n.map((function(e){return e.tagName})))).sort();e.titles=n.map((function(e){return{title:e.innerText,lineIndex:e.getAttribute("data-v-md-line"),indent:o.indexOf(e.tagName)}}))}else e.titles=[]})))}))},getHistoryList:function(){var e=this;Object(b["a"])({url:"/dochistory/list",method:"post",data:{id:this.$route.params.docId}}).then((function(t){0==t.code&&(e.historyDoc.list=t.data)}))},getPermission:function(){var e=this;Object(b["a"])({url:"/collected/permission",method:"post",data:{id:this.$route.params.collectedId}}).then((function(t){0==t.code&&(e.collectedPermission=t.meta)}))},getHistoryDoc:function(e){var t=this;Object(b["a"])({url:"/dochistory/get",method:"post",data:{id:e}}).then((function(e){0==e.code&&(t.historyDoc.doc=e.meta.docHistory)}))},handleAnchorClick:function(e){console.log("handleAnchorClick: "+e);var t=this.$refs.editor,n=e.lineIndex,o=t.$el.querySelector('.v-md-editor-preview [data-v-md-line="'.concat(n,'"]'));o?(console.log("handleAnchorClick:"+o.offsetTop),document.getElementById("docContainer").scrollTop=o.offsetTop):document.getElementById("docContainer").scrollTop=0},handleCopyCodeSuccess:function(e){Object(p["a"])({message:"复制成功",type:"success",duration:1e3})}}},O=(n("8fb5"),n("6b0d")),j=n.n(O);const g=j()(m,[["render",h]]);t["default"]=g},6566:function(e,t,n){"use strict";var o=n("9bf2").f,r=n("7c73"),c=n("6964"),i=n("0366"),a=n("19aa"),l=n("2266"),s=n("7dd0"),d=n("2626"),u=n("83ab"),f=n("f183").fastKey,h=n("69f3"),b=h.set,p=h.getterFor;e.exports={getConstructor:function(e,t,n,s){var d=e((function(e,o){a(e,h),b(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=o&&l(o,e[s],{that:e,AS_ENTRIES:n})})),h=d.prototype,v=p(t),m=function(e,t,n){var o,r,c=v(e),i=O(e,t);return i?i.value=n:(c.last=i={index:r=f(t,!0),key:t,value:n,previous:o=c.last,next:void 0,removed:!1},c.first||(c.first=i),o&&(o.next=i),u?c.size++:e.size++,"F"!==r&&(c.index[r]=i)),e},O=function(e,t){var n,o=v(e),r=f(t);if("F"!==r)return o.index[r];for(n=o.first;n;n=n.next)if(n.key==t)return n};return c(h,{clear:function(){var e=this,t=v(e),n=t.index,o=t.first;while(o)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete n[o.index],o=o.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,n=v(t),o=O(t,e);if(o){var r=o.next,c=o.previous;delete n.index[o.index],o.removed=!0,c&&(c.next=r),r&&(r.previous=c),n.first==o&&(n.first=r),n.last==o&&(n.last=c),u?n.size--:t.size--}return!!o},forEach:function(e){var t,n=v(this),o=i(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){o(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!O(this,e)}}),c(h,n?{get:function(e){var t=O(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),u&&o(h,"size",{get:function(){return v(this).size}}),d},setStrong:function(e,t,n){var o=t+" Iterator",r=p(t),c=p(o);s(e,t,(function(e,t){b(this,{type:o,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=c(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(t)}}},6964:function(e,t,n){var o=n("cb2d");e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},"6d61":function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),c=n("e330"),i=n("94ca"),a=n("cb2d"),l=n("f183"),s=n("2266"),d=n("19aa"),u=n("1626"),f=n("861d"),h=n("d039"),b=n("1c7e"),p=n("d44e"),v=n("7156");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),O=-1!==e.indexOf("Weak"),j=m?"set":"add",g=r[e],x=g&&g.prototype,y=g,C={},w=function(e){var t=c(x[e]);a(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(O&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return O&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(O&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},k=i(e,!u(g)||!(O||x.forEach&&!h((function(){(new g).entries().next()}))));if(k)y=n.getConstructor(t,e,m,j),l.enable();else if(i(e,!0)){var V=new y,N=V[j](O?{}:-0,1)!=V,E=h((function(){V.has(1)})),S=b((function(e){new g(e)})),D=!O&&h((function(){var e=new g,t=5;while(t--)e[j](t,t);return!e.has(-0)}));S||(y=t((function(e,t){d(e,x);var n=v(new g,e,y);return void 0!=t&&s(t,n[j],{that:n,AS_ENTRIES:m}),n})),y.prototype=x,x.constructor=y),(E||D)&&(w("delete"),w("has"),m&&w("get")),(D||N)&&w(j),O&&x.clear&&delete x.clear}return C[e]=y,o({global:!0,constructor:!0,forced:y!=g},C),p(y,e),O||n.setStrong(y,e,m),y}},"8fb5":function(e,t,n){"use strict";n("a8948")},a8948:function(e,t,n){},addb:function(e,t,n){var o=n("4dae"),r=Math.floor,c=function(e,t){var n=e.length,l=r(n/2);return n<8?i(e,t):a(e,c(o(e,0,l),t),c(o(e,l),t),t)},i=function(e,t){var n,o,r=e.length,c=1;while(c<r){o=c,n=e[c];while(o&&t(e[o-1],n)>0)e[o]=e[--o];o!==c++&&(e[o]=n)}return e},a=function(e,t,n,o){var r=t.length,c=n.length,i=0,a=0;while(i<r||a<c)e[i+a]=i<r&&a<c?o(t[i],n[a])<=0?t[i++]:n[a++]:i<r?t[i++]:n[a++];return e};e.exports=c},bb2f:function(e,t,n){var o=n("d039");e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,c=n("1dde"),i=c("map");o({target:"Array",proto:!0,forced:!i},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d86b:function(e,t,n){var o=n("d039");e.exports=o((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d998:function(e,t,n){var o=n("342f");e.exports=/MSIE|Trident/.test(o)},f183:function(e,t,n){var o=n("23e7"),r=n("e330"),c=n("d012"),i=n("861d"),a=n("1a2d"),l=n("9bf2").f,s=n("241c"),d=n("057f"),u=n("4fadd"),f=n("90e3"),h=n("bb2f"),b=!1,p=f("meta"),v=0,m=function(e){l(e,p,{value:{objectID:"O"+v++,weakData:{}}})},O=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,p)){if(!u(e))return"F";if(!t)return"E";m(e)}return e[p].objectID},j=function(e,t){if(!a(e,p)){if(!u(e))return!0;if(!t)return!1;m(e)}return e[p].weakData},g=function(e){return h&&b&&u(e)&&!a(e,p)&&m(e),e},x=function(){y.enable=function(){},b=!0;var e=s.f,t=r([].splice),n={};n[p]=1,e(n).length&&(s.f=function(n){for(var o=e(n),r=0,c=o.length;r<c;r++)if(o[r]===p){t(o,r,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},y=e.exports={enable:x,fastKey:O,getWeakData:j,onFreeze:g};c[p]=!0}}]);
//# sourceMappingURL=chunk-02f196f0.8d03c5ff.js.map