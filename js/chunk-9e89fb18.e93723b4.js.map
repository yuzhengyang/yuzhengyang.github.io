{"version":3,"sources":["webpack:///./src/views/account/login.vue?d3d7","webpack:///./src/views/account/login.vue","webpack:///./src/views/account/login.vue?ff97"],"names":["_createElementVNode","alt","src","_imports_0","width","style","_hoisted_1","_hoisted_2","class","_createVNode","_component_el_container","_component_el_main","_component_el_row","_component_el_col","xs","sm","md","lg","xl","onClick","$options","_component_el_form","ref","model","$data","rules","status-icon","label-width","_component_el_form_item","label","prop","_component_el_input","id","username","$event","maxlength","placeholder","type","password","autocomplete","_component_el_button","_hoisted_5","_hoisted_7","_hoisted_9","_component_el_dialog","title","footer","_ctx","email","authCode","show-password","passwordConfirm","data","resetPasswordDialogVisible","form","required","message","trigger","resetPasswordForm","uid","setup","mounted","document","window","addEventListener","this","handleResize","beforeUnmount","removeEventListener","methods","event","fullWidth","documentElement","clientWidth","home","$router","push","path","params","back","go","register","onSubmit","console","log","$refs","loginForm","validate","valid","$route","redirectSign","redirect","fullPath","substring","indexOf","length","$store","dispatch","then","catch","openResetPasswordDialog","getAuthCodeForResetPassword","request","url","method","token","res","code","meta","ElMessage","duration","resetPassword","__exports__","render"],"mappings":"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","file":"js/chunk-9e89fb18.e93723b4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./login.vue?vue&type=style&index=0&id=091a526a&lang=css\"","<template>\r\n    <el-container>\r\n        <el-main>\r\n            <el-row class=\"login-main\">\r\n                <el-col :xs=\"24\" :sm=\"10\" :md=\"10\" :lg=\"10\" :xl=\"10\">\r\n                    <div class=\"grid-content\" style=\"text-align: center; cursor: pointer;margin-top: 50px;\" @click=\"home\">\r\n                        <img alt=\"logo\" src=\"../..//assets/logo.png\" width=\"96\" />\r\n                        <div style=\"height: 150px\">\r\n                            <div style=\"text-align: center; font-weight: bold\">hidoc</div>\r\n                        </div>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n                    <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" status-icon label-width=\"80px\">\r\n                        <el-form-item label=\"账号\" prop=\"username\">\r\n                            <el-input id=\"username\" v-model=\"form.username\" maxlength=\"64\" placeholder=\"请输入账号或邮箱\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" prop=\"password\">\r\n                            <el-input id=\"password\" type=\"password\" v-model=\"form.password\" maxlength=\"64\" autocomplete=\"off\" placeholder=\"请输入您的密码\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"primary\" @click=\"onSubmit()\" style=\"width: 200px\">登录</el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"back\">\r\n                                <i class=\"el-icon-back\"></i>\r\n                                返回\r\n                            </el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"openResetPasswordDialog\">\r\n                                <i class=\"el-icon-question\"></i>\r\n                                忘记密码\r\n                            </el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"register\">\r\n                                <i class=\"el-icon-user\"></i>\r\n                                注册账号\r\n                            </el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-col>\r\n            </el-row>\r\n        </el-main>\r\n    </el-container>\r\n\r\n    <!-- 修改密码弹框 -->\r\n    <el-dialog title=\"修改密码\" v-model=\"resetPasswordDialogVisible\">\r\n        <el-form :model=\"changePasswordForm\">\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"resetPasswordForm.email\" maxlength=\"64\" placeholder=\"请输入您的注册邮箱\"></el-input>\r\n                <el-button type=\"text\" @click=\"getAuthCodeForResetPassword\">获取验证码</el-button>\r\n            </el-form-item>\r\n            <!-- <el-form-item label=\"账号(选填)\" prop=\"username\">\r\n                <el-input id=\"username\" v-model=\"resetPasswordForm.username\" maxlength=\"64\" placeholder=\"请输入您的登录账号，忘记时可以不填\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item label=\"验证码\" prop=\"authCode\">\r\n                <el-input id=\"authCode\" v-model=\"resetPasswordForm.authCode\" maxlength=\"64\" placeholder=\"请填写发送到您邮箱的验证码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新的密码\">\r\n                <el-input id=\"password\" v-model=\"resetPasswordForm.password\" placeholder=\"请输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"再输入一遍\">\r\n                <el-input v-model=\"resetPasswordForm.passwordConfirm\" placeholder=\"请再次输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <span class=\"dialog-footer\">\r\n                <el-button @click=\"resetPasswordDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"resetPassword\">确 定</el-button>\r\n            </span>\r\n        </template>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue';\r\nimport request from '../../utils/request.js';\r\nimport { ElMessageBox, ElMessage } from 'element-plus';\r\nexport default {\r\n    data() {\r\n        return {\r\n            resetPasswordDialogVisible: false,\r\n            form: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            rules: {\r\n                username: [{ required: true, message: '请输入账号', trigger: 'blur' }],\r\n                password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n            },\r\n            resetPasswordForm: {\r\n                username: '',\r\n                email: '',\r\n                authCode: '',\r\n                uid: '',\r\n                password: '',\r\n                passwordConfirm: ''\r\n            }\r\n        };\r\n    },\r\n    setup() {},\r\n    mounted() {\r\n        document.title = '登录';\r\n        window.addEventListener('resize', this.handleResize);\r\n        this.handleResize();\r\n    },\r\n    beforeUnmount() {\r\n        window.removeEventListener('resize', this.handleResize);\r\n    },\r\n    methods: {\r\n        handleResize(event) {\r\n            this.fullWidth = document.documentElement.clientWidth;\r\n        },\r\n        home() {\r\n            this.$router.push({ path: '/', params: {} });\r\n        },\r\n        back() {\r\n            this.$router.go(-1); //返回上一层\r\n            // this.$router.push({ path: '/' });\r\n        },\r\n        register() {\r\n            this.$router.push({ path: '/register', params: {} });\r\n        },\r\n        onSubmit() {\r\n            console.log('submit!');\r\n            this.$refs.loginForm.validate(valid => {\r\n                if (valid) {\r\n                    // alert('submit!');\r\n                    // this.loading = true;\r\n                    console.log(this.$route);\r\n                    let redirectSign = 'redirect=';\r\n                    let redirect = this.$route.fullPath.substring(this.$route.fullPath.indexOf(redirectSign) + redirectSign.length);\r\n\r\n                    this.$store\r\n                        .dispatch('user/login', this.form)\r\n                        .then(() => {\r\n                            console.log('登录成功');\r\n                            this.$router.push({ path: redirect || '/', params: {} });\r\n                            // this.loading = false;\r\n                        })\r\n                        .catch(() => {\r\n                            console.log('登录异常');\r\n                            // this.loading = false;\r\n                        });\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        openResetPasswordDialog() {\r\n            this.resetPasswordDialogVisible = true;\r\n        },\r\n        getAuthCodeForResetPassword() {\r\n            request({\r\n                url: '/openapi/authcode/getForResetPassword',\r\n                method: 'post',\r\n                data: {\r\n                    email: this.resetPasswordForm.email,\r\n                    token: ''\r\n                }\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    this.resetPasswordForm.uid = res.meta.uid;\r\n                    ElMessage({\r\n                        message: '验证码已发送至邮箱，请查收',\r\n                        type: 'success',\r\n                        duration: 5 * 1000\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        resetPassword() {\r\n            request({\r\n                url: '/user/resetPassword',\r\n                method: 'post',\r\n                data: this.resetPasswordForm\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    ElMessage({\r\n                        message: '重置密码成功',\r\n                        type: 'success',\r\n                        duration: 5 * 1000\r\n                    });\r\n                    this.resetPasswordDialogVisible = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-main {\r\n    /* background-color: #e9eef3; */\r\n    /* color: #333; */\r\n    /* text-align: right; */\r\n}\r\n.login-main {\r\n    display: -webkit-flex; /* Safari */\r\n    display: flex;\r\n    align-items: center; /* 主要是这两行代码 */\r\n    font-size: 16px;\r\n    height: 550px;\r\n    text-align: center;\r\n    margin-left: 60px;\r\n    margin-right: 60px;\r\n}\r\n</style>\r\n","import { render } from \"./login.vue?vue&type=template&id=091a526a\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=091a526a&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\workspace\\\\mygithub\\\\Hidoc\\\\03_SRC\\\\hidoc-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}