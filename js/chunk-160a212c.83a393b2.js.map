{"version":3,"sources":["webpack:///./src/views/account/register.vue?6703","webpack:///./src/views/account/register.vue","webpack:///./src/views/account/register.vue?7ed3"],"names":["_createElementVNode","alt","src","_imports_0","width","style","_hoisted_1","_hoisted_2","class","_createBlock","_component_el_container","_createVNode","_component_el_main","_component_el_row","_component_el_col","xs","sm","md","lg","xl","onClick","$options","_component_el_popover","placement","trigger","visible","$data","$event","reference","undefined","avatar","_createElementBlock","_hoisted_5","_component_el_avatar","size","_hoisted_7","span","_Fragment","_renderList","item","key","require","name","_component_el_form","ref","model","rules","status-icon","label-width","_component_el_form_item","label","_component_el_input","maxlength","_component_el_space","fill","_component_el_alert","type","show-icon","closable","_hoisted_9","_hoisted_10","_hoisted_11","prop","id","username","placeholder","realname","password","autocomplete","passwordConfirm","email","_component_el_button","authCode","_hoisted_14","data","form","uid","required","message","systemAvatarList","selectAvatarPanelVisible","mounted","document","title","i","this","push","methods","home","$router","path","params","back","go","login","openSelectAvatar","console","log","selectAvatar","currentAvatar","avatarImage","getAuthCode","request","url","method","token","then","res","code","meta","ElMessage","duration","onSubmit","formName","$refs","validate","valid","$store","dispatch","redirect","query","otherQuery","catch","__exports__","render"],"mappings":"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","file":"js/chunk-160a212c.83a393b2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./register.vue?vue&type=style&index=0&id=682274f2&lang=css\"","<template>\r\n    <el-container>\r\n        <el-main>\r\n            <el-row class=\"login-main\">\r\n                <el-col :xs=\"24\" :sm=\"10\" :md=\"10\" :lg=\"10\" :xl=\"10\">\r\n                    <div class=\"grid-content\" style=\"text-align: center; cursor: pointer; margin-top: 50px\" @click=\"home\">\r\n                        <img alt=\"logo\" src=\"../..//assets/logo.png\" width=\"96\" />\r\n                        <div style=\"height: 50px\">\r\n                            <div style=\"text-align: center; font-weight: bold\">hidoc</div>\r\n                        </div>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n                    <div style=\"text-align: center; margin-bottom: 20px\">\r\n                        <el-popover placement=\"bottom\" trigger=\"manual\" :width=\"400\" v-model:visible=\"selectAvatarPanelVisible\">\r\n                            <template #reference>\r\n                                <div v-if=\"form.avatar == undefined || form.avatar == ''\">\r\n                                    <el-avatar :size=\"100\" style=\"cursor: pointer\" @click=\"openSelectAvatar()\">头像</el-avatar>\r\n                                </div>\r\n                                <div v-else>\r\n                                    <el-avatar :size=\"100\" style=\"cursor: pointer\" @click=\"openSelectAvatar()\" :src=\"currentAvatar()\">头像</el-avatar>\r\n                                </div>\r\n                            </template>\r\n                            <el-row>\r\n                                <el-col :span=\"24\">\r\n                                    <el-row>\r\n                                        <el-col :span=\"4\" v-for=\"item in systemAvatarList\" :key=\"item\">\r\n                                            <el-avatar :src=\"require('../../assets/avatar/' + item.name)\" :size=\"40\" style=\"cursor: pointer\" @click=\"selectAvatar(item.name)\"></el-avatar>\r\n                                        </el-col>\r\n                                    </el-row>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </el-popover>\r\n                    </div>\r\n                    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" status-icon label-width=\"80px\">\r\n                        <el-form-item label=\"头像\" v-show=\"false\">\r\n                            <el-input v-model=\"form.avatar\" maxlength=\"64\"></el-input>\r\n                        </el-form-item>\r\n                        <el-space fill>\r\n                            <el-alert type=\"info\" show-icon :closable=\"false\">\r\n                                <span>账号可输入6位以上字母、数字或下划线</span>\r\n                                <br />\r\n                                <span>用于用户个性化URL和个人目录的设置</span>\r\n                            </el-alert>\r\n                            <el-form-item label=\"账号\" prop=\"username\">\r\n                                <el-input id=\"username\" v-model=\"form.username\" maxlength=\"64\" placeholder=\"请输入账号\"></el-input>\r\n                            </el-form-item>\r\n                        </el-space>\r\n                        <el-form-item label=\"姓名\" prop=\"realname\">\r\n                            <el-input v-model=\"form.realname\" maxlength=\"16\" placeholder=\"请输入您的姓名，中文名\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" prop=\"password\">\r\n                            <el-input id=\"password\" type=\"password\" v-model=\"form.password\" maxlength=\"64\" autocomplete=\"off\" placeholder=\"请输入密码，至少6位，可使用字母数字下划线\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"确认密码\" prop=\"passwordConfirm\">\r\n                            <el-input type=\"password\" v-model=\"form.passwordConfirm\" maxlength=\"64\" autocomplete=\"off\" placeholder=\"请再次输入密码，以确认准确无误\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"邮箱\" prop=\"email\">\r\n                            <el-input v-model=\"form.email\" maxlength=\"64\" placeholder=\"请输入公司邮箱\"></el-input>\r\n                            <el-button type=\"text\" @click=\"getAuthCode\">获取验证码</el-button>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"验证码\" prop=\"authCode\">\r\n                            <el-input v-model=\"form.authCode\" maxlength=\"64\" placeholder=\"请填写发送到您邮箱的验证码\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"primary\" @click=\"onSubmit('form')\">注册</el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"back\">\r\n                                <i class=\"el-icon-back\"></i>\r\n                                返回\r\n                            </el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"login\">\r\n                                已有账号，立即登录\r\n                                <i class=\"el-icon-right\"></i>\r\n                            </el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-col>\r\n            </el-row>\r\n        </el-main>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request.js';\r\nimport { ElMessageBox, ElMessage } from 'element-plus';\r\nimport { avatarImage } from '../../utils/users.js';\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: {\r\n                avatar: '',\r\n                username: '',\r\n                realname: '',\r\n                password: '',\r\n                passwordConfirm: '',\r\n                email: '',\r\n                authCode: '',\r\n                uid: ''\r\n            },\r\n            rules: {\r\n                username: [{ required: true, message: '请输入账号', trigger: 'blur' }],\r\n                realname: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\r\n                password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\r\n                passwordConfirm: [{ required: true, message: '请再次输入密码', trigger: 'blur' }],\r\n                email: [{ required: true, message: '请输入邮箱', trigger: 'blur' }]\r\n            },\r\n            systemAvatarList: [],\r\n            selectAvatarPanelVisible: false\r\n        };\r\n    },\r\n    mounted() {\r\n        document.title = '注册';\r\n        for (let i = 1; i <= 96; i++) {\r\n            this.systemAvatarList.push({ type: 'system', name: i + '.jpg' });\r\n        }\r\n    },\r\n    methods: {\r\n        home() {\r\n            this.$router.push({ path: '/', params: {} });\r\n        },\r\n        back() {\r\n            this.$router.go(-1); //返回上一层\r\n            // this.$router.push({ path: '/' });\r\n        },\r\n        login() {\r\n            this.$router.push({ path: '/login', params: {} });\r\n        },\r\n        openSelectAvatar() {\r\n            this.selectAvatarPanelVisible = true;\r\n            console.log('打开头像选择器');\r\n        },\r\n        selectAvatar(name) {\r\n            this.form.avatar = '$system$' + name;\r\n            this.selectAvatarPanelVisible = false;\r\n            console.log('关闭头像选择器');\r\n        },\r\n        currentAvatar() {\r\n            return avatarImage(this.form.avatar);\r\n            // return require('../../assets/avatar/' + this.form.avatar.replace('$system$', ''));\r\n        },\r\n        getAuthCode() {\r\n            request({\r\n                url: '/openapi/authcode/getForRegister',\r\n                method: 'post',\r\n                data: {\r\n                    email: this.form.email,\r\n                    token: ''\r\n                }\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    this.form.uid = res.meta.uid;\r\n\r\n                    ElMessage({\r\n                        message: '验证码已发送至邮箱，请查收',\r\n                        type: 'success',\r\n                        duration: 5 * 1000\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        onSubmit(formName) {\r\n            console.log('submit!');\r\n            this.$refs[formName].validate(valid => {\r\n                if (valid) {\r\n                    this.$store\r\n                        .dispatch('user/register', this.form)\r\n                        .then(() => {\r\n                            console.log(1);\r\n                            this.$router.push({ path: this.redirect || '/', query: this.otherQuery });\r\n                            // this.loading = false;\r\n                        })\r\n                        .catch(() => {\r\n                            console.log(2);\r\n                            // this.loading = false;\r\n                        });\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-main {\r\n    /* background-color: #e9eef3; */\r\n    /* color: #333; */\r\n    /* text-align: right; */\r\n}\r\n.login-main {\r\n    display: -webkit-flex; /* Safari */\r\n    display: flex;\r\n    align-items: center; /* 主要是这两行代码 */\r\n    font-size: 16px;\r\n    height: 550px;\r\n    text-align: center;\r\n    margin-left: 60px;\r\n    margin-right: 60px;\r\n}\r\n</style>\r\n","import { render } from \"./register.vue?vue&type=template&id=682274f2\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\n\nimport \"./register.vue?vue&type=style&index=0&id=682274f2&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\workspace\\\\mygithub\\\\Hidoc\\\\03_SRC\\\\hidoc-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}