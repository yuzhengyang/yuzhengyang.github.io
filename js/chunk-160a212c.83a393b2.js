(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-160a212c"],{"170e":function(e,t,r){"use strict";r("6097")},"5dc0":function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),n=r("cf05"),c=r.n(n),l=Object(o["createElementVNode"])("img",{alt:"logo",src:c.a,width:"96"},null,-1),a=Object(o["createElementVNode"])("div",{style:{height:"50px"}},[Object(o["createElementVNode"])("div",{style:{"text-align":"center","font-weight":"bold"}},"hidoc")],-1),u=[l,a],i={style:{"text-align":"center","margin-bottom":"20px"}},d={key:0},s=Object(o["createTextVNode"])("头像"),m={key:1},b=Object(o["createTextVNode"])("头像"),f=Object(o["createElementVNode"])("span",null,"账号可输入6位以上字母、数字或下划线",-1),p=Object(o["createElementVNode"])("br",null,null,-1),j=Object(o["createElementVNode"])("span",null,"用于用户个性化URL和个人目录的设置",-1),O=Object(o["createTextVNode"])("获取验证码"),h=Object(o["createTextVNode"])("注册"),V=Object(o["createElementVNode"])("i",{class:"el-icon-back"},null,-1),C=Object(o["createTextVNode"])(" 返回 "),w=Object(o["createTextVNode"])(" 已有账号，立即登录 "),x=Object(o["createElementVNode"])("i",{class:"el-icon-right"},null,-1);function g(e,t,n,c,l,a){var g=Object(o["resolveComponent"])("el-col"),v=Object(o["resolveComponent"])("el-avatar"),N=Object(o["resolveComponent"])("el-row"),k=Object(o["resolveComponent"])("el-popover"),_=Object(o["resolveComponent"])("el-input"),y=Object(o["resolveComponent"])("el-form-item"),A=Object(o["resolveComponent"])("el-alert"),E=Object(o["resolveComponent"])("el-space"),B=Object(o["resolveComponent"])("el-button"),U=Object(o["resolveComponent"])("el-form"),$=Object(o["resolveComponent"])("el-main"),q=Object(o["resolveComponent"])("el-container");return Object(o["openBlock"])(),Object(o["createBlock"])(q,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,{class:"login-main"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{xs:24,sm:10,md:10,lg:10,xl:10},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:"grid-content",style:{"text-align":"center",cursor:"pointer","margin-top":"50px"},onClick:t[0]||(t[0]=function(){return a.home&&a.home.apply(a,arguments)})},u)]})),_:1}),Object(o["createVNode"])(g,{xs:24,sm:12,md:8,lg:8,xl:8},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(k,{placement:"bottom",trigger:"manual",width:400,visible:l.selectAvatarPanelVisible,"onUpdate:visible":t[3]||(t[3]=function(e){return l.selectAvatarPanelVisible=e})},{reference:Object(o["withCtx"])((function(){return[void 0==l.form.avatar||""==l.form.avatar?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[Object(o["createVNode"])(v,{size:100,style:{cursor:"pointer"},onClick:t[1]||(t[1]=function(e){return a.openSelectAvatar()})},{default:Object(o["withCtx"])((function(){return[s]})),_:1})])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[Object(o["createVNode"])(v,{size:100,style:{cursor:"pointer"},onClick:t[2]||(t[2]=function(e){return a.openSelectAvatar()}),src:a.currentAvatar()},{default:Object(o["withCtx"])((function(){return[b]})),_:1},8,["src"])]))]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{span:24},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.systemAvatarList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(g,{span:4,key:e},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{src:r("a0fc")("./"+e.name),size:40,style:{cursor:"pointer"},onClick:function(t){return a.selectAvatar(e.name)}},null,8,["src","onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["visible"])]),Object(o["createVNode"])(U,{ref:"form",model:l.form,rules:l.rules,"status-icon":"","label-width":"80px"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(y,{label:"头像"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:l.form.avatar,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.form.avatar=e}),maxlength:"64"},null,8,["modelValue"])]})),_:1},512),[[o["vShow"],!1]]),Object(o["createVNode"])(E,{fill:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(A,{type:"info","show-icon":"",closable:!1},{default:Object(o["withCtx"])((function(){return[f,p,j]})),_:1}),Object(o["createVNode"])(y,{label:"账号",prop:"username"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{id:"username",modelValue:l.form.username,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.form.username=e}),maxlength:"64",placeholder:"请输入账号"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(y,{label:"姓名",prop:"realname"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:l.form.realname,"onUpdate:modelValue":t[6]||(t[6]=function(e){return l.form.realname=e}),maxlength:"16",placeholder:"请输入您的姓名，中文名"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(y,{label:"密码",prop:"password"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{id:"password",type:"password",modelValue:l.form.password,"onUpdate:modelValue":t[7]||(t[7]=function(e){return l.form.password=e}),maxlength:"64",autocomplete:"off",placeholder:"请输入密码，至少6位，可使用字母数字下划线"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(y,{label:"确认密码",prop:"passwordConfirm"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{type:"password",modelValue:l.form.passwordConfirm,"onUpdate:modelValue":t[8]||(t[8]=function(e){return l.form.passwordConfirm=e}),maxlength:"64",autocomplete:"off",placeholder:"请再次输入密码，以确认准确无误"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(y,{label:"邮箱",prop:"email"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:l.form.email,"onUpdate:modelValue":t[9]||(t[9]=function(e){return l.form.email=e}),maxlength:"64",placeholder:"请输入公司邮箱"},null,8,["modelValue"]),Object(o["createVNode"])(B,{type:"text",onClick:a.getAuthCode},{default:Object(o["withCtx"])((function(){return[O]})),_:1},8,["onClick"])]})),_:1}),Object(o["createVNode"])(y,{label:"验证码",prop:"authCode"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:l.form.authCode,"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.form.authCode=e}),maxlength:"64",placeholder:"请填写发送到您邮箱的验证码"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{type:"primary",onClick:t[11]||(t[11]=function(e){return a.onSubmit("form")})},{default:Object(o["withCtx"])((function(){return[h]})),_:1})]})),_:1}),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{type:"text",onClick:a.back},{default:Object(o["withCtx"])((function(){return[V,C]})),_:1},8,["onClick"])]})),_:1}),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{type:"text",onClick:a.login},{default:Object(o["withCtx"])((function(){return[w,x]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var v=r("b775"),N=r("3ef4"),k=r("dc99"),_={data:function(){return{form:{avatar:"",username:"",realname:"",password:"",passwordConfirm:"",email:"",authCode:"",uid:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],realname:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],passwordConfirm:[{required:!0,message:"请再次输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}]},systemAvatarList:[],selectAvatarPanelVisible:!1}},mounted:function(){document.title="注册";for(var e=1;e<=96;e++)this.systemAvatarList.push({type:"system",name:e+".jpg"})},methods:{home:function(){this.$router.push({path:"/",params:{}})},back:function(){this.$router.go(-1)},login:function(){this.$router.push({path:"/login",params:{}})},openSelectAvatar:function(){this.selectAvatarPanelVisible=!0,console.log("打开头像选择器")},selectAvatar:function(e){this.form.avatar="$system$"+e,this.selectAvatarPanelVisible=!1,console.log("关闭头像选择器")},currentAvatar:function(){return Object(k["a"])(this.form.avatar)},getAuthCode:function(){var e=this;Object(v["a"])({url:"/openapi/authcode/getForRegister",method:"post",data:{email:this.form.email,token:""}}).then((function(t){0==t.code&&(e.form.uid=t.meta.uid,Object(N["a"])({message:"验证码已发送至邮箱，请查收",type:"success",duration:5e3}))}))},onSubmit:function(e){var t=this;console.log("submit!"),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$store.dispatch("user/register",t.form).then((function(){console.log(1),t.$router.push({path:t.redirect||"/",query:t.otherQuery})})).catch((function(){console.log(2)}))}))}}},y=(r("170e"),r("6b0d")),A=r.n(y);const E=A()(_,[["render",g]]);t["default"]=E},6097:function(e,t,r){}}]);
//# sourceMappingURL=chunk-160a212c.83a393b2.js.map