{"version":3,"sources":["webpack:///./src/components/VerificationCode.vue?e858","webpack:///./src/views/account/login.vue","webpack:///./src/components/VerificationCode.vue","webpack:///./src/components/VerificationCode.vue?4fc8","webpack:///./src/views/account/login.vue?ff97","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/account/login.vue?cd26"],"names":["_createElementVNode","alt","src","_imports_0","width","style","_hoisted_1","_hoisted_2","class","_createVNode","_component_el_container","_component_el_main","_component_el_row","_component_el_col","xs","sm","md","lg","xl","onClick","$options","_component_el_tabs","$data","$event","_component_el_tab_pane","label","name","_component_el_form","ref","model","rules","status-icon","label-width","span","_component_el_input","id","username","maxlength","placeholder","type","password","autocomplete","_component_el_button","_component_verification_code","callback","_component_el_form_item","_hoisted_13","_hoisted_15","_hoisted_17","_component_el_dialog","title","footer","_ctx","prop","email","authCode","show-password","passwordConfirm","verificationCodes","handleInput","index","event","value","target","length","nextInput","nextElementSibling","nextTick","focus","props","join","handleKeyDown","key","prevInput","previousElementSibling","__exports__","data","activeName","resetPasswordDialogVisible","form","totpcode","required","message","trigger","resetPasswordForm","uid","components","VerificationCode","setup","mounted","document","window","addEventListener","this","handleResize","beforeUnmount","removeEventListener","methods","fullWidth","documentElement","clientWidth","home","$router","push","path","params","back","go","register","onSubmit","console","log","$refs","loginForm","validate","valid","$route","redirectSign","redirect","fullPath","substring","indexOf","$store","dispatch","then","catch","openResetPasswordDialog","getAuthCodeForResetPassword","request","url","method","token","res","code","meta","ElMessage","duration","resetPassword","totpCallback","render","$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","ES3_STRINGS","Object","STRICT_METHOD","proto","forced","separator","undefined"],"mappings":"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","file":"js/chunk-419b8005.79675282.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./VerificationCode.vue?vue&type=style&index=0&id=1dee4948&lang=scss&scoped=true\"","<template>\r\n    <el-container>\r\n        <el-main>\r\n            <el-row class=\"login-main\">\r\n                <el-col :xs=\"24\" :sm=\"10\" :md=\"10\" :lg=\"10\" :xl=\"10\">\r\n                    <div class=\"grid-content\" style=\"text-align: center; cursor: pointer; margin-top: 50px\" @click=\"home\">\r\n                        <img alt=\"logo\" src=\"../..//assets/logo.png\" width=\"96\" />\r\n                        <div style=\"height: 150px\">\r\n                            <div style=\"text-align: center; font-weight: bold\">hidoc</div>\r\n                        </div>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :xs=\"24\" :sm=\"12\" :md=\"10\" :lg=\"10\" :xl=\"10\">\r\n                    <el-tabs v-model=\"activeName\">\r\n                        <el-tab-pane label=\"邮箱登录\" name=\"first\" style=\"padding: 10px; height: 250px\">\r\n                            <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" status-icon label-width=\"80px\">\r\n                                <el-row><el-row :span=\"24\" class=\"login-form-label\">邮箱</el-row></el-row>\r\n                                <div style=\"width: 300px\">\r\n                                    <el-input id=\"username\" v-model=\"form.username\" maxlength=\"64\" placeholder=\"请输入邮箱或账号\"></el-input>\r\n                                </div>\r\n                                <el-row><el-row :span=\"24\" class=\"login-form-label\">密码</el-row></el-row>\r\n                                <div style=\"width: 300px\">\r\n                                    <el-input id=\"password\" type=\"password\" v-model=\"form.password\" maxlength=\"64\" autocomplete=\"off\" placeholder=\"请输入您的密码\"></el-input>\r\n                                </div>\r\n                                <div style=\"width: 300px; margin-top: 30px\">\r\n                                    <el-button type=\"primary\" @click=\"onSubmit()\" style=\"width: 200px\">登录</el-button>\r\n                                </div>\r\n                            </el-form>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"动态码登录\" name=\"second\" style=\"padding: 10px; height: 250px\">\r\n                            <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" status-icon label-width=\"80px\">\r\n                                <el-row><el-row :span=\"24\" class=\"login-form-label\">邮箱</el-row></el-row>\r\n                                <div style=\"width: 300px\">\r\n                                    <el-input id=\"username\" v-model=\"form.username\" maxlength=\"64\" placeholder=\"请输入邮箱或账号\"></el-input>\r\n                                </div>\r\n                                <el-row><el-row :span=\"24\" class=\"login-form-label\">动态码</el-row></el-row>\r\n                                <verification-code :callback=\"totpCallback\" />\r\n                            </el-form>\r\n                        </el-tab-pane>\r\n                    </el-tabs>\r\n                    <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" status-icon label-width=\"80px\">\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"back\">\r\n                                <i class=\"el-icon-back\"></i>\r\n                                返回\r\n                            </el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"openResetPasswordDialog\">\r\n                                <i class=\"el-icon-question\"></i>\r\n                                忘记密码\r\n                            </el-button>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"text\" @click=\"register\">\r\n                                <i class=\"el-icon-user\"></i>\r\n                                注册账号\r\n                            </el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-col>\r\n            </el-row>\r\n        </el-main>\r\n    </el-container>\r\n\r\n    <!-- 修改密码弹框 -->\r\n    <el-dialog title=\"修改密码\" v-model=\"resetPasswordDialogVisible\">\r\n        <el-form :model=\"changePasswordForm\">\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"resetPasswordForm.email\" maxlength=\"64\" placeholder=\"请输入您的注册邮箱\"></el-input>\r\n                <el-button type=\"text\" @click=\"getAuthCodeForResetPassword\">获取验证码</el-button>\r\n            </el-form-item>\r\n            <!-- <el-form-item label=\"账号(选填)\" prop=\"username\">\r\n                <el-input id=\"username\" v-model=\"resetPasswordForm.username\" maxlength=\"64\" placeholder=\"请输入您的登录账号，忘记时可以不填\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item label=\"验证码\" prop=\"authCode\">\r\n                <el-input id=\"authCode\" v-model=\"resetPasswordForm.authCode\" maxlength=\"64\" placeholder=\"请填写发送到您邮箱的验证码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新的密码\">\r\n                <el-input id=\"password\" v-model=\"resetPasswordForm.password\" placeholder=\"请输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"再输入一遍\">\r\n                <el-input v-model=\"resetPasswordForm.passwordConfirm\" placeholder=\"请再次输入密码\" show-password></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <span class=\"dialog-footer\">\r\n                <el-button @click=\"resetPasswordDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"resetPassword\">确 定</el-button>\r\n            </span>\r\n        </template>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue';\r\nimport request from '../../utils/request.js';\r\nimport { ElMessageBox, ElMessage } from 'element-plus';\r\nimport VerificationCode from '../../components/VerificationCode.vue';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            activeName: 'first',\r\n            resetPasswordDialogVisible: false,\r\n            form: {\r\n                username: '',\r\n                password: '',\r\n                totpcode: ''\r\n            },\r\n            rules: {\r\n                username: [{ required: true, message: '请输入账号', trigger: 'blur' }]\r\n                // password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n            },\r\n            resetPasswordForm: {\r\n                username: '',\r\n                email: '',\r\n                authCode: '',\r\n                uid: '',\r\n                password: '',\r\n                passwordConfirm: ''\r\n            }\r\n        };\r\n    },\r\n    components: {\r\n        VerificationCode\r\n    },\r\n    setup() {},\r\n    mounted() {\r\n        document.title = '登录';\r\n        window.addEventListener('resize', this.handleResize);\r\n        this.handleResize();\r\n    },\r\n    beforeUnmount() {\r\n        window.removeEventListener('resize', this.handleResize);\r\n    },\r\n    methods: {\r\n        handleResize(event) {\r\n            this.fullWidth = document.documentElement.clientWidth;\r\n        },\r\n        home() {\r\n            this.$router.push({ path: '/', params: {} });\r\n        },\r\n        back() {\r\n            this.$router.go(-1); //返回上一层\r\n            // this.$router.push({ path: '/' });\r\n        },\r\n        register() {\r\n            this.$router.push({ path: '/register', params: {} });\r\n        },\r\n        onSubmit() {\r\n            console.log('login form check');\r\n            this.$refs.loginForm.validate(valid => {\r\n                if (valid) {\r\n                    console.log('login submit');\r\n                    // this.loading = true;\r\n                    console.log(this.$route);\r\n                    let redirectSign = 'redirect=';\r\n                    let redirect = this.$route.fullPath.substring(this.$route.fullPath.indexOf(redirectSign) + redirectSign.length);\r\n\r\n                    this.$store\r\n                        .dispatch('user/login', this.form)\r\n                        .then(() => {\r\n                            console.log('登录成功');\r\n                            this.$router.push({ path: redirect || '/', params: {} });\r\n                            // this.loading = false;\r\n                        })\r\n                        .catch(() => {\r\n                            console.log('登录异常');\r\n                            // this.loading = false;\r\n                        });\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        openResetPasswordDialog() {\r\n            this.resetPasswordDialogVisible = true;\r\n        },\r\n        getAuthCodeForResetPassword() {\r\n            request({\r\n                url: '/openapi/authcode/getForResetPassword',\r\n                method: 'post',\r\n                data: {\r\n                    email: this.resetPasswordForm.email,\r\n                    token: ''\r\n                }\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    this.resetPasswordForm.uid = res.meta.uid;\r\n                    ElMessage({\r\n                        message: '验证码已发送至邮箱，请查收',\r\n                        type: 'success',\r\n                        duration: 5 * 1000\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        resetPassword() {\r\n            request({\r\n                url: '/user/resetPassword',\r\n                method: 'post',\r\n                data: this.resetPasswordForm\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    ElMessage({\r\n                        message: '重置密码成功',\r\n                        type: 'success',\r\n                        duration: 5 * 1000\r\n                    });\r\n                    this.resetPasswordDialogVisible = false;\r\n                }\r\n            });\r\n        },\r\n        totpCallback(code) {\r\n            this.form.totpcode = code;\r\n            console.log(`totpcode is: ${code}`);\r\n            // 如果收到了6位的验证码，则登录\r\n            if (this.form.totpcode.length === 6) {\r\n                this.onSubmit();\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-main {\r\n    /* background-color: #e9eef3; */\r\n    /* color: #333; */\r\n    /* text-align: right; */\r\n}\r\n.login-main {\r\n    display: -webkit-flex; /* Safari */\r\n    display: flex;\r\n    align-items: center; /* 主要是这两行代码 */\r\n    font-size: 16px;\r\n    height: 550px;\r\n    text-align: center;\r\n    margin-left: 60px;\r\n    margin-right: 60px;\r\n}\r\n.login-form-label {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #aaaaaa;\r\n    padding-top: 20px;\r\n    padding-bottom: 10px;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"verification-container\">\r\n        <input v-for=\"(code, index) in verificationCodes\" :key=\"index\" v-model=\"verificationCodes[index]\" @input=\"handleInput(index, $event)\" @keydown=\"handleKeyDown(index, $event)\" maxlength=\"1\" class=\"verification-input\" />\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, nextTick } from 'vue';\r\nimport { defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    callback: {\r\n        type: Function,\r\n        required: true\r\n    }\r\n});\r\n\r\nconst verificationCodes = ref(['', '', '', '', '', '']);\r\n\r\nconst handleInput = (index, event) => {\r\n    const value = event.target.value;\r\n    verificationCodes.value[index] = value;\r\n\r\n    // 自动跳到下一个输入框\r\n    if (value && index < verificationCodes.value.length - 1) {\r\n        const nextInput = event.target.nextElementSibling;\r\n        if (nextInput) {\r\n            nextTick(() => {\r\n                nextInput.focus();\r\n            });\r\n        }\r\n    }\r\n    // console.log(`component inner totpcode is: ${verificationCodes.value.join('')}`);\r\n    props.callback(verificationCodes.value.join(''));\r\n};\r\n\r\nconst handleKeyDown = (index, event) => {\r\n    // 处理删除操作\r\n    if (event.key === 'Backspace' && !event.target.value && index > 0) {\r\n        const prevInput = event.target.previousElementSibling;\r\n        if (prevInput) {\r\n            nextTick(() => {\r\n                prevInput.focus();\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.verification-container {\r\n    display: flex;\r\n}\r\n\r\n.verification-input {\r\n    width: 40px;\r\n    height: 40px;\r\n    margin-right: 10px;\r\n    text-align: center;\r\n    font-size: 18px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n}\r\n\r\n.verification-input:focus {\r\n    outline: none;\r\n    border-color: #007bff;\r\n    box-shadow: 0 0 5px #007bff;\r\n}\r\n</style>\r\n","import script from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VerificationCode.vue?vue&type=style&index=0&id=1dee4948&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\code\\\\workspace\\\\mygithub\\\\Hidoc\\\\03_SRC\\\\hidoc-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1dee4948\"]])\n\nexport default __exports__","import { render } from \"./login.vue?vue&type=template&id=308e39b5\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=308e39b5&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\workspace\\\\mygithub\\\\Hidoc\\\\03_SRC\\\\hidoc-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./login.vue?vue&type=style&index=0&id=308e39b5&lang=css\""],"sourceRoot":""}