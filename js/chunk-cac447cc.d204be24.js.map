{"version":3,"sources":["webpack:///./src/views/preview/docfocus.vue","webpack:///./src/views/preview/docfocus.vue?d45f","webpack:///./src/views/preview/docfocus.vue?40ac"],"names":["style","_createElementVNode","_toDisplayString","doc","title","_createVNode","_component_v_md_editor","id","content","$event","mode","ref","onCopyCodeSuccess","$options","data","mounted","document","getElementById","className","console","log","this","$route","params","docId","getDoc","user","$store","state","watermark","set","realName","email","methods","request","url","method","then","res","code","meta","mdFormat","handleCopyCodeSuccess","ElMessage","message","type","duration","__exports__","render"],"mappings":"4IACSA,MAAA,sF,sKAALC,gCAEM,MAFN,EAEMC,kCADMC,IAAIC,OAAK,GAErBH,gCAEM,YADFI,yBAAgIC,EAAA,CAAnHC,GAAG,Y,gBAA0BJ,IAAIK,Q,uDAAJL,IAAIK,QAAOC,IAAEC,KAAK,UAAUC,IAAI,SAAUC,kBAAmBC,yBAAvG,8CADJ,I,oDAeW,GACXC,KADW,WAEP,MAAO,CACHX,IAAK,KAGbY,QANW,WAOPC,SAASC,eAAe,iBAAiBC,UAAY,GAErDC,QAAQC,IAAI,SAAWC,KAAKC,OAAOC,OAAOC,OAC1CH,KAAKI,OAAOJ,KAAKC,OAAOC,OAAOC,OAE/B,IAAIE,EAAOL,KAAKM,OAAOC,MAAMF,KAC7BP,QAAQC,IAAIM,GACRA,GACAG,OAAUC,IAAIJ,EAAKK,SAAUL,EAAKM,QAG1CC,QAAS,CACLR,OADK,SACElB,GAAI,WACP2B,eAAQ,CACJC,IAAK,WACLC,OAAQ,OACRtB,KAAM,CACFP,GAAIA,KAET8B,MAAK,SAAAC,GACY,GAAZA,EAAIC,OACJ,EAAKpC,IAAMmC,EAAIE,KAAKrC,IAEpB,EAAKA,IAAIK,QAAUiC,eAAS,EAAKtC,IAAIK,SAAW,oIAChDQ,SAASZ,MAAQ,EAAKD,IAAIC,WAItCsC,sBAjBK,SAiBiBH,GAElBI,eAAU,CACNC,QAAS,OACTC,KAAM,UACNC,SAAU,S,iCCpD1B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,kCCTf,W","file":"js/chunk-cac447cc.d204be24.js","sourcesContent":["<template>\r\n    <div style=\"line-height: 60px; text-align: center; font-size: 30px; font-weight: bold\">\r\n        {{ this.doc.title }}\r\n    </div>\r\n    <div>\r\n        <v-md-editor id=\"vmdEditor\" v-model=\"this.doc.content\" mode=\"preview\" ref=\"editor\" @copy-code-success=\"handleCopyCodeSuccess\" />\r\n    </div>\r\n    <!-- :style=\"{height: getHeight()}\" -->\r\n    <!-- <div style=\"height: 1000px\"></div> -->\r\n    <!-- <div style=\"page-break-after: always\"></div> -->\r\n    <!-- <p>&nbsp;</p> -->\r\n</template>\r\n\r\n<script>\r\nimport request from '../../utils/request.js';\r\nimport { ElMessageBox, ElMessage } from 'element-plus';\r\nimport { mdFormat } from '../../utils/mdtools';\r\nimport watermark from '../../utils/watermark';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            doc: {}\r\n        };\r\n    },\r\n    mounted() {\r\n        document.getElementById('app-container').className = '';\r\n\r\n        console.log('docId:' + this.$route.params.docId);\r\n        this.getDoc(this.$route.params.docId);\r\n\r\n        var user = this.$store.state.user;\r\n        console.log(user);\r\n        if (user) {\r\n            watermark.set(user.realName, user.email);\r\n        }\r\n    },\r\n    methods: {\r\n        getDoc(id) {\r\n            request({\r\n                url: '/doc/get',\r\n                method: 'post',\r\n                data: {\r\n                    id: id\r\n                }\r\n            }).then(res => {\r\n                if (res.code == 0) {\r\n                    this.doc = res.meta.doc;\r\n                    // 预览前对文本进行处理，然后再渲染预览\r\n                    this.doc.content = mdFormat(this.doc.content) + '<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div style=\"height: 1000px\"></div><div style=\"page-break-after:always\"></div>';\r\n                    document.title = this.doc.title;\r\n                }\r\n            });\r\n        },\r\n        handleCopyCodeSuccess(code) {\r\n            // console.log(code);\r\n            ElMessage({\r\n                message: '复制成功',\r\n                type: 'success',\r\n                duration: 1 * 1000\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-container {\r\n    height: '';\r\n}\r\n.el-aside {\r\n    padding-right: 10px;\r\n    border-right: 1px solid #bbb;\r\n}\r\n.el-menu {\r\n    border-right: 0;\r\n}\r\n.el-drawer {\r\n    overflow: scroll;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 0px;\r\n    background-color: #d8d8d8;\r\n}\r\n\r\n/* 滚动槽 */\r\n::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    background-color: #bfc1c4;\r\n}\r\n@media print {\r\n    body {\r\n        height: auto !important;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./docfocus.vue?vue&type=template&id=59850f32\"\nimport script from \"./docfocus.vue?vue&type=script&lang=js\"\nexport * from \"./docfocus.vue?vue&type=script&lang=js\"\n\nimport \"./docfocus.vue?vue&type=style&index=0&id=59850f32&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\workspace\\\\mygithub\\\\Hidoc\\\\03_SRC\\\\hidoc-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./docfocus.vue?vue&type=style&index=0&id=59850f32&lang=css\""],"sourceRoot":""}