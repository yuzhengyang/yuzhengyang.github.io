(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-634bffdd"],{"6d0f":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o={style:{"line-height":"60px","text-align":"center","font-size":"30px","font-weight":"bold"}},a=Object(c["createElementVNode"])("p",null," ",-1),r=Object(c["createElementVNode"])("p",null," ",-1),l=Object(c["createElementVNode"])("p",null," ",-1),s=Object(c["createElementVNode"])("p",null," ",-1),i=Object(c["createElementVNode"])("div",{style:{height:"1000px"}},null,-1),d=Object(c["createElementVNode"])("div",{style:{"page-break-after":"always"}},null,-1);function u(e,t,n,u,p,f){var m=this,b=Object(c["resolveComponent"])("v-md-editor");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",o,Object(c["toDisplayString"])(this.title),1),Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(b,{id:"vmdEditor",modelValue:this.content,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m.content=e}),mode:"preview",ref:"editor",onCopyCodeSuccess:f.handleCopyCodeSuccess},null,8,["modelValue","onCopyCodeSuccess"])]),a,r,l,s,i,d],64)}var p=n("b85c"),f=n("c7eb"),m=n("1da1"),b=(n("b0c0"),n("99af"),n("b775")),h=n("3ef4"),j=n("05db"),O=n("14a5"),g=(n("2ef0"),{data:function(){return{docList:[],title:"",content:"",tempContent:""}},mounted:function(){document.getElementById("app-container").className="",console.log("collectedId:"+this.$route.params.collectedId);var e=this.$store.state.user;console.log(e),e&&O["a"].set(e.realName,e.email),this.getContent()},methods:{getContent:function(){var e=this;return Object(m["a"])(Object(f["a"])().mark((function t(){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("getCollected"),t.next=3,e.getCollected();case 3:return console.log("getAllDoc"),t.next=6,e.getAllDoc(e.docList);case 6:return console.log("fmtContent"),t.next=9,e.fmtContent();case 9:case"end":return t.stop()}}),t)})))()},getCollected:function(){var e=this;return Object(m["a"])(Object(f["a"])().mark((function t(){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(b["a"])({url:"/collected/get",method:"post",data:{id:e.$route.params.collectedId}}).then((function(t){0==t.code&&t.meta.collected&&t.meta.collected.docLites&&(e.docList=t.meta.collected.docLites,e.title=t.meta.collected.name,document.title=e.title)}));case 2:case"end":return t.stop()}}),t)})))()},getAllDoc:function(e){var t=this;return Object(m["a"])(Object(f["a"])().mark((function n(){var c,o,a,r;return Object(f["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:c=t,o=Object(p["a"])(e),n.prev=2,o.s();case 4:if((a=o.n()).done){n.next=13;break}return r=a.value,n.next=8,c.getDoc(r.id);case 8:if(!r.children){n.next=11;break}return n.next=11,c.getAllDoc(r.children);case 11:n.next=4;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](2),o.e(n.t0);case 18:return n.prev=18,o.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[2,15,18,21]])})))()},getDoc:function(e){var t=this;return Object(m["a"])(Object(f["a"])().mark((function n(){return Object(f["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(b["a"])({url:"/doc/get",method:"post",data:{id:e}}).then((function(e){0==e.code&&(t.tempContent=t.tempContent+"\n\n"+e.meta.doc.content,console.log("读取文档：".concat(e.meta.doc.title,"，长度:").concat(e.meta.doc.content.length)))}));case 2:case"end":return n.stop()}}),n)})))()},fmtContent:function(){var e=this;return Object(m["a"])(Object(f["a"])().mark((function t(){var n,c;return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,c=Object(j["a"])(n.tempContent),e.$nextTick((function(){n.content=c,window.scrollTo(0,0)})),console.log("所有文档内容合并，内容总长度：".concat(e.content.length));case 4:case"end":return t.stop()}}),t)})))()},handleCopyCodeSuccess:function(e){Object(h["a"])({message:"复制成功",type:"success",duration:1e3})}}}),v=(n("f9d43"),n("6b0d")),w=n.n(v);const x=w()(g,[["render",u]]);t["default"]=x},f9d43:function(e,t,n){"use strict";n("ff5a")},ff5a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-634bffdd.a2db8f70.js.map